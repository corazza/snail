// import "../std/liste.snail";
// import "../std/io.snail";

// println(Concat(1, Concat(2, Nil))); // OK
// println(Concat(1, Concat("asdf", Nil))); // type error!

data List<A> as
    Nil,
    Concat(A, List<A>)
enddata

def head(xs: List<A>) -> Option<A> as
    match xs as
        Concat(x, tail) => return Some(x),
        Nil => return None
    endmatch
enddef

let x: List<int> = Concat(1, Concat(2, Nil));
let y: List<int> = Concat(1, Concat("asdf", Nil));
println(x == y);

def test() -> unit as
    match x as
        Nil => println("nil"),
        Concat(a, as) => println("concat")
    endmatch
    return UNIT;
enddef
