import "std.snail";

data Pair<C, D> as
    Pa(C, D)
enddata

def treba_iste(p: Pair<A, A>) -> A as
    match p as
        Pa(a, b) => return a
    endmatch
enddef

// let p: Pair<int, string> = Pa(1, "asdf"); // TYPE ERROR
// let p: Pair<int, int> = Pa(1, "asdf"); // TYPE ERROR
let p: Pair<int, int> = Pa(1, 2); // OK

print(treba_iste(p));
